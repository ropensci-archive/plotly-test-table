This repository hosts the [[http://ropensci.github.io/plotly-test-table/][ggplotly test tables]] in the [[https://github.com/ropensci/plotly-test-table/tree/gh-pages][gh-pages]] branch.

To setup your machine for building a ggplotly test table, first make
sure that the plotly package/repository is in the same directory as
the plotly-test-table repository. For example, I keep both under
=~/R=.

#+BEGIN_SRC shell
cd ~/R
git clone git@github.com:ropensci/plotly.git
cd plotly
git checkout $BRANCH_WITH_MOST_COMPLETE_TESTS
cd ..
git clone git@github.com:ropensci/plotly-test-table.git
#+END_SRC

Note that I check out the plotly branch with most complete testhat
unit tests, which will be run for several different versions of the
ggplotly source code. To add a commit column and re-build the table,
do

#+BEGIN_SRC shell
cd plotly-test-table
git checkout gh-pages
echo $GITHUB_USER,$COMMIT_SHA1,$COLUMN_NAME_TO_DISPLAY >> code_commits.csv 
make
#+END_SRC

It is OK to change the label in commits.csv! This will just change the
column name in the test table (the PNG files will not have to be
re-made). Finally, add the new PNG files and push to the gh-pages
branch.

#+BEGIN_SRC shell
git add data/*/*.png tables/*/*.html
git commit -a -m 'some message'
git push origin gh-pages
#+END_SRC

Note the last 3 git operations can be accomplished via

#+BEGIN_SRC shell
./add-all-commit-push.sh
#+END_SRC
